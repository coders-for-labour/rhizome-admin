<link rel="import" href="/bower_components/polymer/polymer.html" />
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html" />
<link rel="import" href="/bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html" />
<link rel="import" href="../c4c-app/c4c-behaviors.html" />
<dom-module id="c4c-data-service">
    <template>
        <style>
            :host {
              display: none;
            }
        </style>
        <iron-ajax id="orgsService" url="[[orgsBaseUrl]]" handleAs="json" last-response="{{liveOrgsData}}"></iron-ajax>
        <iron-ajax id="orgsAddService" url="[[orgsBaseUrl]]" method="POST" content-type="application/x-www-form-urlencoded" handleAs="json" last-response="{{addResponse}}"></iron-ajax>
        <iron-ajax id="orgsPutService" url="[[orgBaseUrl]]" method="PUT" content-type="application/x-www-form-urlencoded" handleAs="json" last-response="{{updateResponse}}"></iron-ajax>
        <iron-ajax id="orgsRmService" url="[[orgBaseUrl]]" method="DELETE" handleAs="json" last-response="{{rmResponse}}"></iron-ajax>
        <app-indexeddb-mirror key="orgs" data="{{liveOrgsData}}" persisted-data="{{orgs}}"></app-indexeddb-mirror>
    </template>
    <script src="c4c-data-service.js"></script>
</dom-module>